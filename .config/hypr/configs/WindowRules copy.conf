#  ▗▖ ▗▖▗▄▄▄▖▗▖  ▗▖▗▄▄▄  ▗▄▖ ▗▖ ▗▖    ▗▄▄▖ ▗▖ ▗▖▗▖   ▗▄▄▄▖ ▗▄▄▖
#  ▐▌ ▐▌  █  ▐▛▚▖▐▌▐▌  █▐▌ ▐▌▐▌ ▐▌    ▐▌ ▐▌▐▌ ▐▌▐▌   ▐▌   ▐▌   
#  ▐▌ ▐▌  █  ▐▌ ▝▜▌▐▌  █▐▌ ▐▌▐▌ ▐▌    ▐▛▀▚▖▐▌ ▐▌▐▌   ▐▛▀▀▘ ▝▀▚▖
#  ▐▙█▟▌▗▄█▄▖▐▌  ▐▌▐▙▄▄▀▝▚▄▞▘▐▙█▟▌    ▐▌ ▐▌▝▚▄▞▘▐▙▄▄▖▐▙▄▄▖▗▄▄▞▘                                                             

# See https://wiki.hyprland.org/Configuring/Window-Rules/ for more

# ---------------- App-Specific Rules ----------------

## System Utilities
windowrule = float on, match:class ^(org.kde.polkit-kde-authentication-agent-1)$
windowrule = float on, match:class ^(nm-connection-editor|blueman-manager|pavucontrol|corectrl)$
windowrule = float on, match:class ^(nwg-look|qt5ct|qt6ct|yad)$
windowrule = float on, match:class ^(gnome-system-monitor|opensnitch)$
windowrule = float on, match:class ^(xdg-desktop-portal-gtk|org.freedesktop.impl.portal.desktop.kde)$
windowrule = float on, match:class ^(org.kde.keditfiletype|org.kde.kdeconnect.handler)$
windowrule = float on, match:class ^(steam)$
windowrule = size (monitor_w*0.40) (monitor_h*0.50), match:class ^(xdg-desktop-portal-gtk|org.freedesktop.impl.portal.desktop.kde)$
windowrule = center on, match:class ^(xdg-desktop-portal-gtk|org.freedesktop.impl.portal.desktop.kde)$

## Media & UI Tweaks
windowrule = float on, match:class ^(mpv|eog|qalculate-qt|io.github.Qalculate.qalculate-qt|com.rafaelmardojai.Blanket|com.github.neithern.g4music)$

## Gaming
windowrule = float on, match:class ^(net.lutris.Lutris|ProtonUp-Qt)$
windowrule = float on, match:class ^([Ss]team)$

## File Management
windowrule = float on, match:class ^(file-roller)$, match:title ^(Open File|Save File|Extract — Dolphin|Export Image.*|Choose Application — Dolphin)$
windowrule = float on, match:title ^(branchdialog)$
windowrule = float on, match:class ^(file-.*)$, match:title ^(Export.*)$
windowrule = float on, match:class ^(script-fu.*)$
windowrule = float on, match:class ^(org.gnome.eog)$

## Text Editors
windowrule = float on, match:class ^(mousepad)$

## KDE / Garuda Tools
windowrule = float on, match:class ^([Gg]aruda.*|octopi|kdeconnect.*|org.kde.kdeconnect.daemon|org.kde.gwenview)$
windowrule = float on, match:class ^([Yy]akuake)$

## Common Dialogs
windowrule = float on, match:class ^(file_progress|confirm|dialog|download|notification|error|splash|confirmreset)$

## Misc
windowrule = float on, match:class ^(foot-dropterm)$
# windowrule = float on, match:class ^(foot-kew)$
# windowrule = float on, match:class ^(syncplay)$
windowrule = float on, match:class ^(kew_player)$
windowrule = size (monitor_w*0.12) (monitor_h*0.40), match:class ^(kew_player)$
windowrule = move (monitor_w*0.87) (monitor_h*0.40), match:class ^(kew_player)$
windowrule = pin on, match:class ^(kew_player)$

# ---------------- General Window Rules ----------------

# windowrule = focusonactivate, match:class .*
windowrule = focus_on_activate on, match:class ^(brave-browser)$
windowrule = focus_on_activate on, match:class ^(codium)$
windowrule = focus_on_activate on, match:class ^(org.kde.dolphin)$
windowrule = focus_on_activate on, match:class ^(foot)$
windowrule = focus_on_activate on, match:class negative:^(steam)$

## Octopi
windowrule = size (monitor_w0.41) (monitor_h0.69), match:class ^(octopi)$, match:title ^(Octopi)$
windowrule = center on on, match:class ^(octopi.*)$, match:title ^(Octopi)$

## File Operations
windowrule = float on, match:class ^(thunar)$, match:title ^(File Operation Progress|Confirm to replace files|Rename.*)$
windowrule = float on, match:class ^(file-roller)$, match:title ^(Extract archive)$

## Music & Gaming Utilities
windowrule = float on, match:class ^(io.bassi.Amberol|net.davidotek.pupgui2)$

## Web Apps
windowrule = float on, match:class ^(brave-(chat.openai.com|gemini.google.com|music.youtube.com|app.tvtime.com).*)$
windowrule = size (monitor_w*0.30) (monitor_h*0.50), match:class ^(brave-(chat.openai.com|gemini.google.com|music.youtube.com).*)$
windowrule = size (monitor_w*0.15) (monitor_h*0.50), match:class ^(brave-(app.tvtime.com).*)$
windowrule = move (monitor_w*0.02) (monitor_h*0.05), match:class ^(brave-(chat.openai.com|gemini.google.com|music.youtube.com).*)$
windowrule = move (monitor_w*0.10) (monitor_h*0.05), match:class ^(brave-(app.tvtime.com).*)$

## Calculator
windowrule = float on, match:class ^(qalculate-gtk.*)$
windowrule = move (monitor_w*0.75) (monitor_h*0.60), match:class ^(qalculate-gtk.*)$
windowrule = size (monitor_w*0.20) (monitor_h*0.50), match:class ^(io.github.Qalculate.qalculate-qt)$

## Lutris
windowrule = size (monitor_w*0.67) (monitor_h*0.72), match:class ^(net.lutris.Lutris)$, match:title ^(Lutris)$
windowrule = center on, match:class ^(net.lutris.Lutris.*)$, match:title ^(Lutris)$
windowrule = float on, match:class ^(zenity)$

## Steam
windowrule = size (monitor_w*0.60) (monitor_h*0.72), match:class ^(steam)$
windowrule = center on, match:class ^(steam.*)$

## Windows Control Panel
windowrule = center on, match:class ^(control.exe)$
windowrule = size (monitor_w*0.45) (monitor_h*0.70), match:class ^(control.exe)$

## Wallpaper Manager
windowrule = float on, match:class ^(waypaper)$
windowrule = center on, match:class ^(waypaper)$
windowrule = size (monitor_w*0.48) (monitor_h*0.70), match:class ^(waypaper)$

## File Save Dialogs
windowrule = size (monitor_w0.35) (monitor_h0.59), match:class ^(brave)$, match:title ^(Save File|Select file)$

## Dolphin File Manager
windowrule = float on, match:class ^(org.kde.dolphin)$, match:title ^(Compressing.*|Extracting.*|File Already Exists.*)$

## System Monitor
windowrule = float on, match:class ^(org.gnome.SystemMonitor)$, match:title ^(System Monitor)$
windowrule = center on, match:class ^(org.gnome.SystemMonitor)$, match:title ^(System Monitor)$

## Qt Configuration Tools
windowrule = center on, match:class ^(qt5ct|qt6ct)$
windowrule = size (monitor_w0.23) (monitor_h0.35), match:class ^(qt5ct|qt6ct)$

## Special Rules
windowrule = no_blur on, match:class ^(gamescope)$
windowrule = fullscreen on, match:class ^(gamescope)$
windowrule = center on, match:title ^(pavucontrol)$

# ---------------- Picture-in-Picture ----------------
windowrule = float on, match:title ^(Picture-in-picture)$
windowrule = pin on, match:title ^(Picture-in-picture)$
windowrule = size (monitor_w*0.30) (monitor_h*0.40), match:title ^(Picture-in-picture)$
windowrule = keep_aspect_ratio on, match:title ^(Picture-in-picture)$
windowrule = move (monitor_w*0.69) (monitor_h*0.05), match:title ^(Picture-in-picture)$
windowrule = no_dim on, match:title ^(Picture-in-picture)$
windowrule = opaque on, match:title ^(Picture-in-picture)$

# ---------------- Workspace Assignments ----------------
windowrule = workspace 1, match:class ^(Brave-browser)$
windowrule = workspace 2 silent, match:class ^(net.lutris.Lutris)$
windowrule = workspace 3 silent, match:class ^(steam)$
# windowrule = workspace special, match:class ^(octopi)$
windowrule = workspace 6, match:class ^(gimp.*)$
windowrule = workspace 7, match:class ^(org.wezfurlong.wezterm)$

# ---------------- Window Opacity ----------------
windowrule = opacity 0.9 0.6, match:class ^([Rr]ofi|Brave-browser|codium-url-handler)$
windowrule = opacity 0.9 0.9, match:class ^([Tt]hunar)$
windowrule = opacity 0.9 0.8, match:class ^(org.kde.dolphin)$
windowrule = opacity 0.8 0.6, match:class ^(pcmanfm-qt)$
windowrule = opacity 0.9 0.8, match:class ^(gedit|VSCodium)$
windowrule = opacity 0.9 0.7, match:class ^(kitty|mousepad|foot|foot-dropterm)$
windowrule = opacity 0.8 0.7, match:class ^(steam|net.lutris.Lutris)$
windowrule = opacity 1.0 1.0, match:class ^(gimp)$

# ---------------- Layer Rules ----------------
layerrule = blur on, match:namespace waybar
layerrule = blur on, match:namespace overview
layerrule = blur on, match:namespace fabric
layerrule = blur on, match:namespace quickshell:overview
layerrule = blur on, match:namespace quickshell:palette
layerrule = blur on, match:namespace hyprswitch
layerrule = blur on, match:namespace swaync-control-center
layerrule = blur on, match:namespace swaync-notification-window
layerrule = ignore_alpha 0, match:namespace waybar
layerrule = ignore_alpha 0, match:namespace overview
layerrule = ignore_alpha 0, match:namespace fabric
layerrule = ignore_alpha 0, match:namespace quickshell:overview
layerrule = ignore_alpha 0, match:namespace quickshell:palette
layerrule = ignore_alpha 0, match:namespace swaync-control-center
layerrule = ignore_alpha 0, match:namespace swaync-notification-window
layerrule = ignore_alpha 0.5, match:namespace swaync-control-center
layerrule = ignore_alpha 0, match:namespace fabric
layerrule = ignore_alpha 0.5, match:namespace quickshell:overview
layerrule = ignore_alpha 0.5, match:namespace quickshell:palette
layerrule = ignore_alpha 0, match:namespace swaync-notification-window

layerrule = animation fade, match:namespace selection
layerrule = no_anim on, match:namespace selection

# ---------------- Browser Popups ----------------
windowrule = float on, match:class ^(brave|librewolf|chromium)$, match:title ^(Save File|Open File|.*Popup.*)$


# ----------------- Experimental ----------------
windowrule = fullscreen on, match:class ^(matrix)$

# Prevent swaync notification & control-center on windows from stealing focus
windowrule = no_focus on, match:class ^(swaync-notification-window)$